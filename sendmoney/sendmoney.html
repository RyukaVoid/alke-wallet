<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enviar Dinero - Alke-Wallet</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Envía dinero de forma rápida y segura con Alke-Wallet. Transferencias digitales fáciles y confiables." />
    <meta name="keywords" content="enviar dinero, transferencias, pagos, billetera digital, envío seguro" />
    <meta name="author" content="Alke-Wallet" />
    <meta name="robots" content="noindex, nofollow" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Enviar Dinero - Alke-Wallet" />
    <meta property="og:description" content="Envía dinero de forma rápida y segura." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://alke-wallet.com/sendmoney" />
    <meta property="og:image" content="../assets/images/alkewallet-logo.png" />
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon/favicon-16x16.png" />
    <link rel="manifest" href="../assets/favicon/site.webmanifest" />
    <link rel="mask-icon" href="../assets/favicon/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#da532c" />

    <!-- bootstrap css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../global.css" />
    <link rel="stylesheet" href="./sendmoney.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="container p-3">
        <!-- header -->
        <div class="row mb-4">
          <div class="col-12 d-flex align-items-center">
            <img src="../assets/images/alkewallet-logo.png" alt="Alke-Wallet Logo" width="50" class="me-2" />
            <h1 class="topbar-heading">Enviar Dinero</h1>
          </div>
        </div>

        <!-- bienvenida -->
        <div class="row mb-4">
          <div class="col-12">
            <h1>Enviar dinero</h1>
            <p class="text-muted m-0">
              Selecciona un contacto y envía dinero de forma segura.
            </p>
          </div>
        </div>

        <!-- saldo actual -->
        <div class="row mb-4">
          <div class="col-12">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">
                  <span id="display-balance"></span>
                  <i data-lucide="credit-card" class="ms-2"></i>
                </h2>
                <p class="card-text text-muted">
                  Saldo disponible en tu billetera
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- filtro y agregar contacto -->
        <div class="row mb-3">
          <div class="col-8">
            <input
              type="text"
              class="form-control"
              id="contact-filter"
              placeholder="Buscar contacto por nombre, apellido, correo o RUT"
            />
          </div>
          <div class="col-4">
            <button type="button" class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#addContactModal">
              <i data-lucide="user-plus" class="me-2"></i>
              Agregar
            </button>
          </div>
        </div>

        <!-- listado de contactos -->
        <div class="row mb-4">
          <div class="col-12">
            <div class="card rounded">
              <div class="card-body">
                <div id="contacts-container">
                  <p class="text-muted">No tienes contactos agregados.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- boton volver -->
        <div class="row">
          <div class="col-12">
            <a href="../menu/menu.html" class="btn btn-secondary w-100">
              <i data-lucide="arrow-left" class="me-2"></i>
              Volver al menú
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal agregar contacto -->
    <div class="modal fade" id="addContactModal" tabindex="-1" aria-labelledby="addContactModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addContactModalLabel">Agregar contacto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-contact-form">
              <div class="mb-3">
                <label for="contact-name" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="contact-name" required />
              </div>
              <div class="mb-3">
                <label for="contact-lastname" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="contact-lastname" required />
              </div>
              <div class="mb-3">
                <label for="contact-email" class="form-label">Correo Electrónico</label>
                <input type="email" class="form-control" id="contact-email" required />
              </div>
              <div class="mb-3">
                <label for="contact-rut" class="form-label">RUT</label>
                <input type="text" class="form-control" id="contact-rut" placeholder="12345678-9" required />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary" id="save-contact">Guardar contacto</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal enviar dinero -->
    <div class="modal fade" id="sendMoneyModal" tabindex="-1" aria-labelledby="sendMoneyModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="sendMoneyModalLabel">Enviar dinero</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <p><strong>Enviar a:</strong> <span id="recipient-name"></span></p>
              <p class="text-muted"><span id="recipient-email"></span></p>
            </div>
            <form id="send-money-form">
              <div class="mb-3">
                <label for="send-amount" class="form-label">Monto a enviar (CLP)</label>
                <input
                  type="number"
                  class="form-control"
                  id="send-amount"
                  placeholder="Ingresa el monto"
                  min="1"
                  required
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary" id="confirm-send">Enviar dinero</button>
          </div>
        </div>
      </div>
    </div>

    <!-- bootstrap js -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <!-- lucide icons -->
    <script
      src="https://cdn.jsdelivr.net/npm/lucide@0.562.0/dist/umd/lucide.min.js"
      integrity="sha256-U0gT0dovTUVQOD1dsIea7bL3TC0LiVGt4nfovK6m31I="
      crossorigin="anonymous"
    ></script>

    <!-- jquery -->
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <!-- start lucide icons -->
    <script>
      lucide.createIcons();
    </script>

    <script src="./sendmoney.js"></script>
  </body>
</html>

    <!-- jquery -->
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <!-- start lucide icons -->
    <script>
      lucide.createIcons();
    </script>

    <script src="./sendmoney.js"></script>
    <script src="../auth.js"></script>
    <script src="../index.js"></script>
  </body>
</html>
